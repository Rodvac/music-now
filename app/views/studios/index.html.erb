<br>
<h1>Find a studio</h1>
<br>

<div class="d-flex m-0">
  <div class="cards-studios">
    <% @studios.each do |studio| %>
      <div class="card-studio">
        <div class= "card-studio-img" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url(https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/skateboard.jpg)">
        </div>
        <div class="card-studio-infos">
          <h2> <%= studio.name %> </h2>
          <p class="address"> <%= studio.address %> </p>
          <p class="description mt-2"> <%= studio.description.first(100) %>... </p>
          <p> <%= link_to "See this studio", studio_path(studio), class: "btn btn-primary" %> </p>
        </div>
      </div>
    <% end %>
  </div>
  <div class="d-flex ml-4">
    <div id="map"
      style="width: 600px; height: 600px;"
      data-markers="<%= @markers.to_json %>"
      data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
    <div class="range-studio-near-me">
      <%= simple_form_for :location, url: studios_path, method: :get do |f| %>
        <%= f.input :longitude, input_html: {id: "longitude", value: @longitude, class: "d-none"}, label:false%>
        <%= f.input :latitude, input_html: {id: "latitude", value: @latitude, class: "d-none"}, label:false %>
        <%= f.input :radius, as: :range, input_html: {min: "1", max: "20", value: @radius} %>
        <%= f.submit "Envoyer" %>
      <% end %>
      <%= simple_form_for :location, url: studios_path, method: :get do |f| %>
        <%= f.input :longitude, input_html: {id: "longitude", class: "d-none"}, label:false%>
        <%= f.input :latitude, input_html: {id: "latitude", class: "d-none"}, label:false %>
        <%= f.input :radius, as: :radio_buttons, collection: [5, 10, 15, 20], input_html: {value: @radius}, wrapper: :vertical_collection_inline, label: "autour de toi" %>
        <%= f.submit "Envoyer" %>
      <% end %>

    </div>
  </div>

</div>


<h2>
  <%= link_to "Home page", root_path %>
</h2>
